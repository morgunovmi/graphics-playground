# Локальный Shadertoy 2

**Зависимости: [shadertoy2](/tasks/shadertoy2/), [local_shadertoy1](/tasks/local_shadertoy1/)**.

В данном задании на предстоит наконец-то познакомиться с тем, как запускать традиционный графический пайплайн на Вулкане.

## Перед началом

 1. Скопируйте в данную папку решение задания [локальный Shadertoy 1](/tasks/local_shadertoy1/).
 2. Убедитесь, что вы не потеряли решение задания [Shadertoy 2](/tasks/shadertoy2/).
 3. Вспомните, как работают графические пайплайны и рендер-пассы в Вулкане.

## Задание

#### Шаг 1

Поменяйте ваш код так, чтобы картинка считалась не в вычислительном шейдере, а во фрагментном.
Вместо compute-пайплайна используйте графический.
Вместо storage-текстур для записи результата шейдера используйте колор-атачменты.
Для этого вам, разумеется, придётся поместить запуск пайплайна в рендер-пасс.
Самый просто способ сделать это &mdash; использовать возможности Этны.
Альтернативно можете самостоятельно использовать dynamic rendering Вулкана, поддерживаемый без расширений в нашей версии Вулкана.
Наконец, как самый сложный (и не сильно полезный) вариант, можете использовать "классические" объекты рендер-пассов вулкана.

#### Шаг 2

Замените текущий шейдер на написанный вами в задании [Shadertoy 2](/tasks/shadertoy2/).
Так как на самом деле это не один шейдер, а два (один генерирует процедурную текстуру, другой использует), вам придётся сделать ещё один рендер-пасс, ещё один пайплайн, запустить его перед основным и "скормить" на вход основному шейдеру вспомогательную процедурную текстуру.
Также вам придётся загрузить какую-нибудь кубическую текстуру из [папки текстур](/resources/textures/), протянуть её в шейдер и использовать в качестве скайбокса.
